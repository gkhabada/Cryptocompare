webpackJsonp([1],{"+4+E":function(t,n){},NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("7+uW"),a=e("mtWM"),i=e.n(a),o={name:"Coins",mounted:function(){var t=this;i.a.get("https://min-api.cryptocompare.com/data/top/mktcapfull?limit=50&tsym=USD&sign=true"+this.apiKey).then(function(n){t.crypto=n.data.Data,t.parseApiData(t.crypto),t.sorted("min")})},data:function(){return{coins:"",crypto:"",apiKey:"&api_key={993cdddb26568296d1e11b6283fd7c62e595be4d93693991a4aa6e1ab6c247c6}",cryptoStreamUrl:"https://streamer.cryptocompare.com",sortedStatus:"min"}},methods:{parseApiData:function(t){var n=[];this.crypto.forEach(function(t){t.DISPLAY&&t.CoinInfo&&(t={img:t.CoinInfo.ImageUrl,name:t.CoinInfo.Name,fullname:t.CoinInfo.FullName,price:(t.DISPLAY.USD.PRICE||t.DISPLAY.PRICE||0).replace(/[,\,$\, ]/g,"")},n.push(t))}),this.coins=n;var e=[];this.coins.forEach(function(t){e.push(t.name)}),this.subscribeStream(e)},subscribeStream:function(t){var n=this,e=io.connect(this.cryptoStreamUrl),r=[];t.forEach(function(t){r.push("5~CCCAGG~"+t+"~USD")}),e.emit("SubAdd",{subs:r}),e.on("m",function(t){n.handleMessage(t)})},handleMessage:function(t){"1"!==(t=t.split("~"))[4]&&"2"!==t[4]||this.coins.forEach(function(n){n.name===t[2]?n.price=t[5]:n.price})},sorted:function(t){var n=this;return this.coins.sort(function(e,r){return e=Number(e.price.replace(/[,\,$\, ]/g,"")),r=Number(r.price.replace(/[,\,$\, ]/g,"")),"max"===t?(n.sortedStatus="max",e<r?-1:e>r?1:0):"min"===t?(n.sortedStatus="min",e>r?-1:e<r?1:0):void 0})}}},s={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"coins"},[t._m(0),t._v(" "),e("h2",[t._v("Show the top cryptocurrency and their prices online")]),t._v(" "),e("hr"),t._v(" "),"min"===t.sortedStatus?e("button",{attrs:{type:"button",name:"button"},on:{click:function(n){return t.sorted("max")}}},[t._v("sorting from min")]):e("button",{attrs:{type:"button",name:"button"},on:{click:function(n){return t.sorted("min")}}},[t._v("sorting from max")]),t._v(" "),e("table",[t._m(1),t._v(" "),e("tbody",t._l(t.coins,function(n,r){return e("tr",{key:r},[e("td",[t._v(t._s(r+1))]),t._v(" "),e("td",[e("img",{attrs:{src:"https://www.cryptocompare.com"+n.img,alt:n.name}})]),t._v(" "),e("td",[t._v(t._s(n.name))]),t._v(" "),e("td",[t._v(t._s(n.fullname))]),t._v(" "),e("td",[t._v(t._s((+n.price).toFixed(3)))])])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("h1",[this._v("Test work by "),n("a",{attrs:{href:"http://gkhabada.h1n.ru",target:"_blank"}},[this._v("Gadzhidadaev Gadzhi")]),this._v(". ")])},function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("thead",[e("th",[t._v("â„–")]),t._v(" "),e("th",[t._v("logo")]),t._v(" "),e("th",[t._v("name")]),t._v(" "),e("th",[t._v("fullname")]),t._v(" "),e("th",[t._v("price")])])}]};var c={name:"App",components:{Coins:e("VU/8")(o,s,!1,function(t){e("ko2K")},"data-v-30c0af22",null).exports}},u={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{attrs:{id:"app"}},[n("Coins")],1)},staticRenderFns:[]};var p=e("VU/8")(c,u,!1,function(t){e("+4+E")},null,null).exports;r.a.config.productionTip=!1,new r.a({el:"#app",components:{App:p},template:"<App/>"})},ko2K:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.3c94d5efb361f841acba.js.map